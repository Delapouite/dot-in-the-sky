# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
# i3 config file (v4)
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

font pango:DejaVu Sans Mono 10

# use Mouse+$mod to drag floating windows
set $mod Mod4
floating_modifier $mod

floating_minimum_size 100 x 100
floating_maximum_size -1 x -1

# toggle tiling / floating
bindsym $mod+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+Shift+space focus mode_toggle

bindsym $mod+Return exec kitty
bindsym $mod+BackSpace exec kitty -d $(xcwd)

bindsym $mod+Escape kill

bindsym $mod+p exec rofi -show window

bindsym $mod+Shift+grave move scratchpad
bindsym $mod+grave scratchpad show

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
bindsym $mod+Prior focus parent
bindsym $mod+Next focus child

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# change focus between screens
bindsym $mod+q focus output eDP-1
bindsym $mod+w focus output DP-1

# move focused workspace between screens
bindsym $mod+Shift+q move workspace to output eDP-1
bindsym $mod+Shift+w move workspace to output DP-1

# horizontal orientation is [][][]
bindsym $mod+s split h
bindsym $mod+v split v

bindsym $mod+f fullscreen toggle
bindsym $mod+Shift+f fullscreen toggle global

# change container layout
bindsym $mod+z layout stacking
bindsym $mod+x layout tabbed
bindsym $mod+c layout toggle split

bindsym $mod+Tab workspace back_and_forth
bindsym $mod+Left workspace prev
bindsym $mod+Right workspace next

bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

bindsym $mod+button2 kill

# modes

set $openmode "open: r[o]fi [c]hromium [f]irefox [g]imp [k]akoune [i]nkscape [l]f nc[m]pcpp [n]ode"
bindsym $mod+o mode $openmode

mode $openmode {
  bindsym c exec chromium ; mode "default"
  bindsym f exec firefox ; mode "default"
  bindsym g exec gimp ; mode "default"
  bindsym k exec termite -e "kak" ; mode "default"
  bindsym i exec inkscape ; mode "default"
  bindsym l exec termite -e "lf" ; mode "default"
  bindsym m exec termite -e "ncmpcpp" ; mode "default"
  bindsym n exec termite -e "node" ; mode "default"
  bindsym o exec rofi -show run ; mode "default"
  bindsym s exec flameshot gui ; mode "default"
  bindsym w exec rofi-vscode-workspaces ; mode "default"

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

set $firefoxmode "firefox: [d]evdocs [g]ithub [l]obsters g[m]ail [r]eddit"
bindsym $mod+i mode $firefoxmode

mode $firefoxmode {
  bindsym d exec (i3-msg [class="Firefox" title="DevDocs"] focus | grep true) || firefox https://devdocs.io; mode "default"
  bindsym g exec (i3-msg [class="Firefox" title="GitHub"] focus | grep true) || firefox https://github.com; mode "default"
  bindsym n exec (i3-msg [class="Firefox" title="Notifications"] focus | grep true) || firefox https://github.com/notifications; mode "default"
  bindsym l exec (i3-msg [class="Firefox" title="Lobsters"] focus | grep true) || firefox https://lobste.rs; mode "default"
  bindsym m exec (i3-msg [class="Firefox" title="Inbox"] focus | grep true) || firefox https://gmail.com ; mode "default"
  bindsym r exec (i3-msg [class="Firefox" title="reddit"] focus | grep true) || firefox https://reddit.com ; mode "default"
  
  bindsym Return mode "default"
  bindsym Escape mode "default"
}

set $musicmode "music: [hp]rev [ln]ext [t]oggle [r]andom [f]av [y]outube"
bindsym $mod+m mode $musicmode

mode $musicmode {
  bindsym h exec "mpc prev"
  bindsym p exec "mpc prev"
  bindsym l exec "mpc next"
  bindsym n exec "mpc next"
  bindsym t exec "mpc toggle"
  bindsym r exec "mpc random"
  bindsym f exec mpd-fav
  bindsym y exec mpd-youtube; mode "default"

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

# sound
bindsym XF86AudioMute exec "amixer set Master toggle"
bindsym XF86AudioLowerVolume exec "amixer set Master 3%-"
bindsym XF86AudioRaiseVolume exec "amixer set Master 3%+"
bindsym XF86AudioMicMute exec "amixer set Mic toggle"
bindsym XF86AudioPrev exec "mpc prev"
bindsym XF86AudioPlay exec "mpc toggle"
bindsym XF86AudioNext exec "mpc next"

set $i3mode "i3: [c]onfig rest[a]rt [e]xit [r]eload [b]ar [l]ock"
bindsym $mod+Delete mode $i3mode

mode $i3mode {
  bindsym a restart
  bindsym c exec termite -e "kak ~/.config/i3/config" ; mode "default"
  bindsym e exit
  bindsym r reload

  bindsym l --release exec slock ; mode "default"

  # bar
  bindsym b bar mode toggle
  bindsym i bar mode invisible; mode "default"

  # monitors
  bindsym 1 exec mons -o ; mode "default"
  bindsym 2 exec mons -e top ; mode "default"

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

mode "resize" {
  bindsym $mod+h focus left
  bindsym $mod+j focus down
  bindsym $mod+k focus up
  bindsym $mod+l focus right

  # Resize the border in the desired direction.
  bindsym h       resize grow   left 1 px or 1 ppt
  bindsym Shift+h resize shrink left 1 px or 1 ppt
  bindsym j       resize grow   down 1 px or 1 ppt
  bindsym Shift+j resize shrink down 1 px or 1 ppt
  bindsym k       resize grow   up 1 px or 1 ppt
  bindsym Shift+k resize shrink up 1 px or 1 ppt
  bindsym l       resize grow   right 1 px or 1 ppt
  bindsym Shift+l resize shrink right 1 px or 1 ppt

  bindsym Left  resize shrink width 1 px or 1 ppt
  bindsym Down  resize shrink height 1 px or 1 ppt
  bindsym Up    resize grow   height 1 px or 1 ppt
  bindsym Right resize grow   width 1 px or 1 ppt

  bindsym 1 resize set width 10 ppt
  bindsym 2 resize set width 20 ppt
  bindsym 3 resize set width 30 ppt
  bindsym 4 resize set width 40 ppt
  bindsym 5 resize set width 50 ppt
  bindsym 6 resize set width 60 ppt
  bindsym 7 resize set width 70 ppt
  bindsym 8 resize set width 80 ppt
  bindsym 9 resize set width 90 ppt

  bindsym q resize set height 10 ppt
  bindsym w resize set height 20 ppt
  bindsym e resize set height 30 ppt
  bindsym r resize set height 40 ppt
  bindsym t resize set height 50 ppt
  bindsym y resize set height 60 ppt
  bindsym u resize set height 70 ppt
  bindsym i resize set height 80 ppt
  bindsym o resize set height 90 ppt

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

set $bordermode "border: [1-0] [t]oggle"
bindsym $mod+b mode $bordermode

mode $bordermode {
  bindsym 1 border pixel 1
  bindsym 2 border pixel 2
  bindsym 3 border pixel 3
  bindsym 4 border pixel 4
  bindsym 5 border pixel 5
  bindsym 6 border pixel 6
  bindsym 7 border pixel 7
  bindsym 8 border pixel 8
  bindsym 9 border pixel 9
  bindsym 0 border pixel 10
  bindsym t border toggle

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

set $gapspx 0
gaps inner $gapspx
gaps outer $gapspx
smart_gaps on

set $gapsmode "gaps: [i]nner [o]uter"
bindsym $mod+g mode $gapsmode

mode $gapsmode {
  bindsym i mode $gapsmodeinner
  bindsym o mode $gapsmodeouter

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

set $gapsmodeinner "gaps-inner: [hl] all [jk] current [r]eset"
mode $gapsmodeinner {
  bindsym h gaps inner all minus $gapspx
  bindsym l gaps inner all plus $gapspx

  bindsym j gaps inner current minus $gapspx
  bindsym k gaps inner current plus $gapspx

  bindsym r gaps inner all set 0

  bindsym o mode $gapsmodeouter

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

set $gapsmodeouter "gaps-outer: [hl] all [jk] current [r]eset"
mode $gapsmodeouter {
  bindsym h gaps outer all minus $gapspx
  bindsym l gaps outer all plus $gapspx

  bindsym j gaps outer current minus $gapspx
  bindsym k gaps outer current plus $gapspx

  bindsym r gaps outer all set 0

  bindsym i mode $gapsmodeinner

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

# decorations
default_border pixel 2
hide_edge_borders smart
for_window [class=".*"] title_format " %title"

# dracula
set $void "#000000"
set $black "#282a36"
set $gray "#44475a"
set $white "#f8f8f2"
set $blue "#6272a4"
set $cyan "#8be9fd"
set $green "#50fa7b"
set $orange "#ffb86c"
set $pink "#ff79c6"
set $purple "#bd93f9"
set $red "#ff5555"
set $yellow "#f1fa8c"

# class                 border  backgr. text    indicator child_border
client.focused          $white  $black  $white  $pink     $cyan
client.focused_inactive #333333 #5f676a #ffffff $pink     #5f676a
client.unfocused        #333333 #222222 #888888 $pink     #222222
client.urgent           #2f343a #900000 #ffffff $pink     #900000
client.placeholder      #000000 #0c0c0c #ffffff $pink     #0c0c0c
client.background       $black

# Start i3bar to display a workspace bar (plus i3status info)
bar {
  status_command py3status
  mode invisible
  position top
  tray_output none
  separator_symbol "â€“"

  colors {
    background $black
    statusline $white
    separator $grey

    focused_workspace  $white $cyan $black
    active_workspace   $black $black $white
    inactive_workspace #333333 #222222 #888888
    urgent_workspace   #2f343a #900000 #ffffff
    binding_mode       $black $pink $black
  }
}
